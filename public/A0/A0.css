body{
    background-image: url('../../assets/img/clean.png');
    background-size: cover;
    width: 100vw;
    height: 100vh;
    padding: 0;
    margin: 0;
    overflow: hidden;
    position: relative;
    font-family: "KaiTi", "STKaiti", "SimSun", serif;
}

.intro-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: black;
    color: #f0f0f0;
    z-index: 1000;
    display: flex;
    justify-content: center;
    align-items: center;
}

.intro-text {
    writing-mode: vertical-rl;
    text-orientation: upright;
    height: 70vh;
    font-size: 1.8rem;
    line-height: 2.5;
    letter-spacing: 0.3rem;
    animation: fadeIn 3s ease-in;
}

.intro-text p {
    margin: 0 1rem;
    text-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
}

.continue-btn {
    position: absolute;
    bottom: 20px;
    right: 20px;
    font-size: 1.5rem;
    color: rgba(255, 255, 255, 0.7);
    cursor: pointer;
    border: 1px solid rgba(255, 255, 255, 0.5);
    padding: 10px 20px;
    border-radius: 5px;
    transition: all 0.3s ease;
    animation: fadeIn 3s ease-in;
    z-index: 2000; /* Ensure it's above other elements */
}

.click-hint {
    position: absolute;
    bottom: 30px;
    right: 30px;
    font-size: 1.2rem;
    color: rgba(255, 255, 255, 0.6);
    animation: pulse 2s infinite ease-in-out;
    letter-spacing: 2px;
}

@keyframes pulse {
    0% { opacity: 0.4; }
    50% { opacity: 0.8; }
    100% { opacity: 0.4; }
}

#next-chapter-btn {
    /* Specific styles for the second continue button if needed, otherwise it inherits .continue-btn */
    /* Adjust color for readability on non-black backgrounds */
    color: #3e2723;
    border-color: #3e2723;
    background-color: rgba(255, 255, 255, 0.3);
}

#next-chapter-btn:hover {
    color: #fff;
    background-color: #5d4037;
    border-color: #5d4037;
}

.continue-btn:hover {
    color: #fff;
    border-color: #fff;
    background-color: rgba(255, 255, 255, 0.1);
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.scene-interaction {
    position: absolute;
    top: 46%; /* Estimated position based on the image */
    left: 58%; /* Estimated position based on the image */
    transform: translate(-50%, -50%);
    z-index: 10;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.click-area {
    width: 60px;
    height: 40px;
    border: 3px solid rgba(255, 255, 0, 0.7); /* Yellow highlight circle */
    border-radius: 50%;
    cursor: pointer;
    background-color: rgba(255, 255, 0, 0.1);
    box-shadow: 0 0 10px rgba(255, 255, 0, 0.5);
    animation: glow 1.5s infinite alternate;
}

@keyframes glow {
    from {
        box-shadow: 0 0 10px rgba(255, 255, 0, 0.5);
    }
    to {
        box-shadow: 0 0 20px rgba(255, 255, 0, 0.9), 0 0 10px rgba(255, 255, 0, 0.5) inset;
    }
}

.arrow-down {
    width: 0; 
    height: 0; 
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    border-top: 15px solid rgba(255, 255, 0, 0.9);
    margin-bottom: 5px;
    animation: bounce 1s infinite;
}

@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.ancient-book-text {
    position: absolute;
    top: 50%;
    left: 15%; /* Moved to left side */
    transform: translateY(-50%); /* Removed translateX to position from left */
    width: auto; /* Width auto for vertical text */
    height: 70vh; /* Fixed height for vertical text */
    background-color: transparent; /* Removed background box per request implication or kept minimal? User said "text placed on left", usually implies no big box or transparent. Let's keep it legible but maybe less intrusive or just vertical. User screenshot had a box. I will keep the box but vertical. */
    /* Let's try to match the style but vertical */
    background-color: rgba(255, 253, 231, 0.9);
    padding: 30px 20px;
    border-radius: 5px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    font-size: 1.4rem;
    line-height: 2;
    color: #3e2723;
    border: 1px solid #d7ccc8;
    display: none;
    z-index: 100;
    
    /* Vertical Text Settings */
    writing-mode: vertical-rl;
    text-orientation: upright;
}

.ancient-book-text p {
    text-indent: 0; /* Remove indent for vertical usually looks better or keep it. */
    margin: 0 10px; /* Adjust margin for vertical columns */
}

/* Remove next-chapter-btn styles or just hide it in HTML. I will keep class generic but override ID specific if needed, but since I am deleting it from HTML, this is fine. */
#next-chapter-btn {
    display: none !important;
}

/* Transition Screen Styles */
.transition-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: black;
    color: #f0f0f0;
    z-index: 2000;
    display: flex;
    justify-content: center;
    align-items: center;
}

.transition-text {
    width: 70%;
    text-align: center;
    font-size: 1.6rem;
    line-height: 2;
    animation: fadeIn 2s ease-in;
}

.transition-text p {
    margin-bottom: 1.5rem;
}

/* Dialog Styles */
.dialog-container {
    position: absolute;
    bottom: 5%;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    z-index: 50;
    display: flex;
    align-items: center;
    flex-direction: column;
    gap: 15px;
}
.ready-btn-container{
    width: 100%;
    display: flex;
    justify-content: center;
}
.dialog-bubble {
    padding: 10px 20px;
    border-radius: 15px;
    font-size: 1.6rem;
    font-weight: bold;
    line-height: 1.6;
    max-width: 100%;
    box-shadow: 0 4px 6px rgba(0,0,0,0.3);
    position: relative;
    animation: slideUp 0.5s ease-out;
}

.apprentice-bubble {
    background-color: rgba(255, 255, 255, 0.9);
    color: #333;
    align-self: flex-end; /* Align to right */
    border-bottom-right-radius: 0;
    margin-bottom: 20px;
}

.master-bubble {
    background-color: rgba(62, 39, 35, 0.9); /* Dark brown */
    color: #fff;
    align-self: flex-start; /* Align to left */
    border-bottom-left-radius: 0;
}

@keyframes slideUp {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

/* Book Icon */
.book-icon {
    position: absolute;
    top: 20px;
    right: 20px;
    font-size: 3rem;
    cursor: pointer;
    z-index: 100;
    filter: drop-shadow(0 0 5px rgba(255,255,255,0.8));
    transition: transform 0.3s ease;
    animation: float 3s ease-in-out infinite;
}

.book-icon:hover {
    transform: scale(1.1);
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

/* Book Popup Overlay */
.book-popup-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: rgba(0,0,0,0.7);
    z-index: 3000;
    display: flex;
    justify-content: center;
    align-items: center;
}

.ancient-book-popup {
    width: 70%;
    max-height: 80vh;
    background-color: #fffde7;
    padding: 40px;
    border-radius: 10px;
    position: relative;
    box-shadow: 0 0 30px rgba(0,0,0,0.8);
    overflow-y: auto;
    border: 10px solid #8d6e63;
}

.close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 2rem;
    cursor: pointer;
    color: #5d4037;
    font-weight: bold;
}

.close-btn:hover {
    color: #3e2723;
}

.book-content {
    font-size: 1.4rem;
    line-height: 1.8;
    color: #3e2723;
}

.book-content p {
    text-indent: 2em;
    margin-bottom: 1em;
}

.ready-btn {
    /* Removed absolute positioning to let it flow in flex container */
    align-self: center; /* Center horizontally in flex column */
    margin-top: 10px; /* Space above button */
    padding: 15px 40px;
    font-size: 1.5rem;
    background-color: #3e2723;
    color: #fff;
    text-decoration: none;
    border-radius: 30px;
    border: 2px solid #8d6e63;
    box-shadow: 0 4px 10px rgba(0,0,0,0.5);
    transition: all 0.3s ease;
    z-index: 100;
    animation: fadeIn 1s ease-in;
}

.ready-btn:hover {
    background-color: #5d4037;
    transform: scale(1.05);
}

/* Return to Previous Level Button */
.back-btn {
    position: absolute;
    bottom: 20px;
    left: 20px;
    padding: 10px 20px;
    font-size: 1.2rem;
    background-color: rgba(62, 39, 35, 0.8);
    color: #fff;
    border: 2px solid #fff;
    border-radius: 8px;
    cursor: pointer;
    z-index: 2000;
    font-family: "KaiTi", "STKaiti", "SimSun", serif;
    transition: all 0.3s ease;
    text-decoration: none;
    display: flex;
    justify-content: center;
    align-items: center;
}

.back-btn:hover {
    background-color: rgba(93, 64, 55, 1);
    transform: scale(1.05);
}
